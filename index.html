<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>App GPS</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 400px; }
    .info { background: white; padding: 10px; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Mi App GPS</h2>
  <div id="map"></div>
  <div class="info">
    <p>üåç Latitud: <span id="lat">-</span></p>
    <p>üåç Longitud: <span id="lon">-</span></p>
    <p>‚õ∞Ô∏è Altitud: <span id="alt">-</span></p>
    <p>‚ö° Velocidad: <span id="vel">-</span> m/s</p>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Crear mapa con Leaflet
    const map = L.map('map').setView([19.4326, -99.1332], 15);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap'
    }).addTo(map);

    let marker = null;

    // Funci√≥n para mostrar ubicaci√≥n
    function updateLocation(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      const alt = position.coords.altitude;
      const vel = position.coords.speed;

      document.getElementById("lat").textContent = lat.toFixed(6);
      document.getElementById("lon").textContent = lon.toFixed(6);
      document.getElementById("alt").textContent = alt ? alt.toFixed(2) : "N/A";
      document.getElementById("vel").textContent = vel ? vel.toFixed(2) : "0";

      if (marker) {
        marker.setLatLng([lat, lon]);
      } else {
        marker = L.marker([lat, lon]).addTo(map).bindPopup("Est√°s aqu√≠");
      }
      map.setView([lat, lon]);
    }

    function error(err) {
      console.warn("Error: ", err);
    }

    // Activar GPS en tiempo real
    if (navigator.geolocation) {
      navigator.geolocation.watchPosition(updateLocation, error, {
        enableHighAccuracy: true,
        maximumAge: 0,
        timeout: 5000
      });
    } else {
      alert("Tu navegador no soporta geolocalizaci√≥n");
    }
  </script>
</body>
</html>
